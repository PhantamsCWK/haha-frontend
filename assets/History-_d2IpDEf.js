import{j as e,u as c}from"./index-BN32oiS2.js";import{u as d,P as o}from"./PropagateLoader-BQMy9MJb.js";import{a as n}from"./index-oTxUbyLe.js";const x=({history:s})=>{const r=a=>new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx("article",{className:"flex flex-row w-full",children:e.jsx("div",{className:"card bg-base-100 h-max-[500px] shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title",children:s.tracking_code}),e.jsx("p",{children:s.status}),e.jsx("div",{className:"card-actions justify-end",children:e.jsx("div",{className:"badge badge-info",children:r(s.created_at)})})]})})})},m=()=>{const{data:s,isPending:r,isError:a,error:t}=d({queryKey:["history"],queryFn:async()=>(await n.get("orders/my-history")).data});return a?e.jsx("div",{className:"flex flex-col justify-center items-center gap-5 py-3 h-[75vh]",children:e.jsx("h1",{className:"text-3xl text-[#570DF8] capitalize",children:t.response?.data?.message||"Failed to load history"})}):r?e.jsx("div",{className:"flex flex-col justify-start items-center gap-5 py-3 h-96",children:e.jsx(o,{className:"mt-36",size:30,color:"#570DF8"})}):(console.log(s),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 p-2 min-h-full min-w-full",children:s.orders.map((l,i)=>e.jsx("div",{className:"aspect-square",children:e.jsx(x,{history:l})},i))}))},p=()=>{const{token:s}=c();return e.jsx("section",{className:"pt-[4px] mx-1 lg:mx-[46px]",children:e.jsxs("div",{className:"flex flex-col justify-center items-center col-span-5 w-full xl:col-span-3 xl:mr-[64px] xl:max-w-[5000rem]",children:[e.jsx("div",{className:"card h-20 w-full flex flex-row items-center shadow-2xl",children:e.jsx("h1",{className:"text-3xl p-5",children:"History"})}),s?e.jsx(m,{}):e.jsx("div",{className:"text-red-500 text-lg mt-4",children:"Need to login to see history"})]})})};export{p as default};
