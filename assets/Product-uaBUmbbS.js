import{b as N,a as g,r as m,j as e,L as v}from"./index-OMCVZtP_.js";import{u as F}from"./index.esm-Gfz2BYCC.js";import{u as C}from"./useMutation-BqIEpDwI.js";import{a as D}from"./index-oTxUbyLe.js";import{d as l,e as d}from"./index-CBgKc9e3.js";import{B as E}from"./BeatLoader-DPwxg9Ms.js";import"./iconBase-BGILQRT3.js";const k=()=>{const c=N(),u=g(),{register:t,handleSubmit:p,reset:x,setError:f,clearErrors:i,formState:{errors:s}}=F({defaultValues:{username:"",email:"",password:"",confirm:""}}),{mutate:j,isPending:h}=C({mutationFn:async r=>await D.put(`/products${r.id}`,r),onSuccess:()=>{u.invalidateQueries(["users"]),c("/login"),x()},onError:r=>{r.data?.errors.forEach(n=>{f(n.param,{type:"manual",message:n.msg})})}}),[a,b]=m.useState(!1),[o,w]=m.useState(!1),y=async r=>{j({email:r.email,username:r.username,password:r.password}).unwrap()};return e.jsxs("form",{className:"join join-vertical gap-4",onSubmit:p(y),children:[e.jsx("div",{className:"join-item w-full flex justify-center items-center",children:e.jsx("h1",{className:" text-purple-400  text-3xl",children:"CucuCoffee"})}),e.jsxs("div",{className:"join join-vertical",children:[e.jsx("input",{type:"email",placeholder:"Email",...t("email"),className:`input input-primary input-bordered bg-white ${s.email||s.root?" border-red-500 text-red-500 focus:outline-red-500":"input-primary text-[#570DF8]"} w-full text-sm font-medium`,required:!0}),s.email&&e.jsxs("span",{className:"italic text-red-500 text-sm",children:["*",s.email.message]})]}),e.jsxs("div",{className:"join join-vertical",children:[e.jsx("input",{type:"text",placeholder:"Username",...t("username"),className:`input input-primary input-bordered bg-white ${s.username||s.root?" border-red-500 text-red-500 focus:outline-red-500":"input-primary text-[#570DF8]"} w-full text-sm font-medium`,required:!0}),s.username&&e.jsxs("span",{className:"italic text-red-500 text-sm",children:["*",s.username.message]})]}),e.jsxs("div",{className:"flex flex-col justify-start",children:[e.jsxs("div",{className:"join",children:[e.jsx("input",{type:a?"text":"password",placeholder:"Password",...t("password"),className:`join-item input input-primary input-bordered bg-white ${s.password||s.root?" border-red-500 text-red-500 focus:outline-red-600":"input-primary text-[#570DF8]"} text-sm font-medium`,onChange:()=>i(["password"]),required:!0}),e.jsx("span",{onClick:()=>b(r=>!r),className:`join-item border flex justify-center items-center  ${s.password||s.root?"border-red-500 text-red-500":"border-[#570DF8] text-[#570DF8]"} bg-white hover:cursor-pointer w-12`,children:a?e.jsx(l,{size:20,color:"#570DF8"}):e.jsx(d,{size:20,color:"#570DF8"})})]}),s.password&&e.jsxs("span",{className:"italic text-red-500 text-sm",children:["*",s.password.message]})]}),e.jsxs("div",{className:"flex flex-col justify-start",children:[e.jsxs("div",{className:"join",children:[e.jsx("input",{type:o?"text":"password",placeholder:"Confirm Password",...t("confirm"),className:`join-item input input-primary input-bordered bg-white ${s.confirm||s.root?" border-red-500 text-red-500 focus:outline-red-600":"input-primary text-[#570DF8]"} text-sm font-medium`,onChange:()=>i(["confirm"]),required:!0}),e.jsx("span",{onClick:()=>w(r=>!r),className:`join-item border flex justify-center items-center  ${s.confirm||s.root?"border-red-500 text-red-500":"border-[#570DF8] text-[#570DF8]"} bg-white hover:cursor-pointer w-12`,children:o?e.jsx(l,{size:20}):e.jsx(d,{size:20})})]}),s.confirm&&e.jsxs("span",{className:"italic text-red-500 text-sm",children:["*",s.confirm.message]})]}),e.jsxs("button",{type:"submit",className:"btn btn-outline btn-primary",children:[" ",h?e.jsx(E,{}):"Submit"]}),e.jsxs("span",{className:" text-gray-700",children:["Already haveÂ ",e.jsx(v,{to:"/login",className:"text-[#570DF8] font-semibold",children:"account ?"})]})]})};export{k as default};
